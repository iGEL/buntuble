---
- name: Add sway repository
  apt_repository:
    repo: ppa:samoilov-lex/sway
  become: true
  tags: [sway, sudo]

- name: Install sway
  apt:
    name: "{{ packages }}"
  vars:
    packages:
    - sway
    - swaylock
    - swayidle
  become: true
  tags: [sway, sudo]

- name: Create .config/sway
  file:
    dest: /home/{{ ansible_user_id }}/.config/sway
    state: directory
  tags: [sway, sudo]

- name: Link .config/sway/config
  file:
    src: /home/{{ ansible_user_id }}/dev/files/sway-config
    dest: /home/{{ ansible_user_id }}/.config/sway/config
    state: link
  tags: [sway, sudo]
